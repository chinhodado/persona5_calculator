const rarePersonae = ["Regent", "Queen's Necklace", "Stone of Scone", "Koh-i-Noor", "Orlov", "Emperor's Amulet", "Hope Diamond", "Crystal Skull"];

const rareCombos = {
  "Fool":       [-1, +1, -1, +1, -1, -1, +1, +2],
  "Magician":   [+1, -1, +2, -1, +1, +1, +1, +1],
  "Priestess":  [-1, +1, -1, +2, +1, -1, +1, +1],
  "Empress":    [-1, +2, -1, +1, +1, +1, -1, +1],
  "Emperor":    [+2, -1, +1, -1, -1, +1, +1, -1],
  "Hierophant": [+1, -1, +1, -2, +1, -1, -1, -1],
  "Lovers":     [-1, +1, -1, +1, -1, -1, -2, +1],
  "Chariot":    [+1, -1, +1, -1, +1, -2, -1, -1],
  "Justice":    [+1, -1, -1, +2, +1, +1, -1, +1],
  "Hermit":     [+2, -1, -1, +1, +1, +1, +1, -2],
  "Fortune":    [+1, -1, +2, -1, -2, -1, +1, -1],
  "Strength":   [-1, +1, -2, +1, +1, +1, -1, -1],
  "Hanged Man": [+1, +1, -1, -1, +1, +2, -1, -1],
  "Death":      [+1, -1, +1, +1, -1, -1, +2, +1],
  "Temperance": [-1, +1, -1, -1, +1, +1, -1, +2],
  "Devil":      [-2, +1, -1, +1, +1, +2, -1, -1],
  "Tower":      [-1, -2, +1, +1, +1, +1, -1, -1],
  "Star":       [+1, -1, +1, -1, +1, -1, +1, +1],
  "Moon":       [-1, +2, +1, -1, +1, -1, -1, -1],
  "Sun":        [+1, -1, -1, +1, +1, -1, +2, +1],
  "Judgement":  [-1, -1, +1, -1, +1, +1, -1, -1]
};

const arcana2Combos = [
    {'source': ['Fool',       'Fool'        ], 'result': 'Fool'        },
    {'source': ['Fool',       'Magician'    ], 'result': 'Death'       },
    {'source': ['Fool',       'Priestess'   ], 'result': 'Moon'        },
    {'source': ['Fool',       'Empress'     ], 'result': 'Hanged Man'  },
    {'source': ['Fool',       'Emperor'     ], 'result': 'Temperance'  },
    {'source': ['Fool',       'Hierophant'  ], 'result': 'Hermit'      },
    {'source': ['Fool',       'Lovers'      ], 'result': 'Chariot'     },
    {'source': ['Fool',       'Chariot'     ], 'result': 'Moon'        },
    {'source': ['Fool',       'Justice'     ], 'result': 'Star'        },
    {'source': ['Fool',       'Hermit'      ], 'result': 'Priestess'   },
    {'source': ['Fool',       'Fortune'     ], 'result': 'Lovers'      },
    {'source': ['Fool',       'Strength'    ], 'result': 'Death'       },
    {'source': ['Fool',       'Hanged Man'  ], 'result': 'Tower'       },
    {'source': ['Fool',       'Death'       ], 'result': 'Strength'    },
    {'source': ['Fool',       'Temperance'  ], 'result': 'Hierophant'  },
    {'source': ['Fool',       'Devil'       ], 'result': 'Temperance'  },
    {'source': ['Fool',       'Tower'       ], 'result': 'Empress'     },
    {'source': ['Fool',       'Star'        ], 'result': 'Magician'    },
    {'source': ['Fool',       'Moon'        ], 'result': 'Justice'     },
    {'source': ['Fool',       'Sun'         ], 'result': 'Justice'     },
    {'source': ['Fool',       'Judgement'   ], 'result': 'Sun'         },
    {'source': ['Magician',   'Magician'    ], 'result': 'Magician'    },
    {'source': ['Magician',   'Priestess'   ], 'result': 'Temperance'  },
    {'source': ['Magician',   'Empress'     ], 'result': 'Justice'     },
    {'source': ['Magician',   'Emperor'     ], 'result': 'Hanged Man'  },
    {'source': ['Magician',   'Hierophant'  ], 'result': 'Death'       },
    {'source': ['Magician',   'Lovers'      ], 'result': 'Devil'       },
    {'source': ['Magician',   'Chariot'     ], 'result': 'Priestess'   },
    {'source': ['Magician',   'Justice'     ], 'result': 'Emperor'     },
    {'source': ['Magician',   'Hermit'      ], 'result': 'Lovers'      },
    {'source': ['Magician',   'Fortune'     ], 'result': 'Justice'     },
    {'source': ['Magician',   'Strength'    ], 'result': 'Fool'        },
    {'source': ['Magician',   'Hanged Man'  ], 'result': 'Empress'     },
    {'source': ['Magician',   'Death'       ], 'result': 'Hermit'      },
    {'source': ['Magician',   'Temperance'  ], 'result': 'Chariot'     },
    {'source': ['Magician',   'Devil'       ], 'result': 'Hierophant'  },
    {'source': ['Magician',   'Tower'       ], 'result': 'Temperance'  },
    {'source': ['Magician',   'Star'        ], 'result': 'Priestess'   },
    {'source': ['Magician',   'Moon'        ], 'result': 'Lovers'      },
    {'source': ['Magician',   'Sun'         ], 'result': 'Hierophant'  },
    {'source': ['Magician',   'Judgement'   ], 'result': 'Strength'    },
    {'source': ['Priestess',  'Priestess'   ], 'result': 'Priestess'   },
    {'source': ['Priestess',  'Empress'     ], 'result': 'Emperor'     },
    {'source': ['Priestess',  'Emperor'     ], 'result': 'Empress'     },
    {'source': ['Priestess',  'Hierophant'  ], 'result': 'Magician'    },
    {'source': ['Priestess',  'Lovers'      ], 'result': 'Fortune'     },
    {'source': ['Priestess',  'Chariot'     ], 'result': 'Hierophant'  },
    {'source': ['Priestess',  'Justice'     ], 'result': 'Death'       },
    {'source': ['Priestess',  'Hermit'      ], 'result': 'Temperance'  },
    {'source': ['Priestess',  'Fortune'     ], 'result': 'Magician'    },
    {'source': ['Priestess',  'Strength'    ], 'result': 'Devil'       },
    {'source': ['Priestess',  'Hanged Man'  ], 'result': 'Death'       },
    {'source': ['Priestess',  'Death'       ], 'result': 'Magician'    },
    {'source': ['Priestess',  'Temperance'  ], 'result': 'Devil'       },
    {'source': ['Priestess',  'Devil'       ], 'result': 'Moon'        },
    {'source': ['Priestess',  'Tower'       ], 'result': 'Hanged Man'  },
    {'source': ['Priestess',  'Star'        ], 'result': 'Hermit'      },
    {'source': ['Priestess',  'Moon'        ], 'result': 'Hierophant'  },
    {'source': ['Priestess',  'Sun'         ], 'result': 'Chariot'     },
    {'source': ['Priestess',  'Judgement'   ], 'result': 'Justice'     },
    {'source': ['Empress',    'Empress'     ], 'result': 'Empress'     },
    {'source': ['Empress',    'Emperor'     ], 'result': 'Justice'     },
    {'source': ['Empress',    'Hierophant'  ], 'result': 'Fool'        },
    {'source': ['Empress',    'Lovers'      ], 'result': 'Judgement'   },
    {'source': ['Empress',    'Chariot'     ], 'result': 'Star'        },
    {'source': ['Empress',    'Justice'     ], 'result': 'Lovers'      },
    {'source': ['Empress',    'Hermit'      ], 'result': 'Strength'    },
    {'source': ['Empress',    'Fortune'     ], 'result': 'Hermit'      },
    {'source': ['Empress',    'Strength'    ], 'result': 'Chariot'     },
    {'source': ['Empress',    'Hanged Man'  ], 'result': 'Priestess'   },
    {'source': ['Empress',    'Death'       ], 'result': 'Fool'        },
    {'source': ['Empress',    'Temperance'  ], 'result': 'Priestess'   },
    {'source': ['Empress',    'Devil'       ], 'result': 'Sun'         },
    {'source': ['Empress',    'Tower'       ], 'result': 'Emperor'     },
    {'source': ['Empress',    'Star'        ], 'result': 'Lovers'      },
    {'source': ['Empress',    'Moon'        ], 'result': 'Fortune'     },
    {'source': ['Empress',    'Sun'         ], 'result': 'Tower'       },
    {'source': ['Empress',    'Judgement'   ], 'result': 'Emperor'     },
    {'source': ['Emperor',    'Emperor'     ], 'result': 'Emperor'     },
    {'source': ['Emperor',    'Hierophant'  ], 'result': 'Fortune'     },
    {'source': ['Emperor',    'Lovers'      ], 'result': 'Fool'        },
    {'source': ['Emperor',    'Chariot'     ], 'result': 'Strength'    },
    {'source': ['Emperor',    'Justice'     ], 'result': 'Chariot'     },
    {'source': ['Emperor',    'Hermit'      ], 'result': 'Hierophant'  },
    {'source': ['Emperor',    'Fortune'     ], 'result': 'Sun'         },
    {'source': ['Emperor',    'Strength'    ], 'result': 'Tower'       },
    {'source': ['Emperor',    'Hanged Man'  ], 'result': 'Devil'       },
    {'source': ['Emperor',    'Death'       ], 'result': 'Hermit'      },
    {'source': ['Emperor',    'Temperance'  ], 'result': 'Devil'       },
    {'source': ['Emperor',    'Devil'       ], 'result': 'Justice'     },
    {'source': ['Emperor',    'Tower'       ], 'result': 'Star'        },
    {'source': ['Emperor',    'Star'        ], 'result': 'Lovers'      },
    {'source': ['Emperor',    'Moon'        ], 'result': 'Tower'       },
    {'source': ['Emperor',    'Sun'         ], 'result': 'Judgement'   },
    {'source': ['Emperor',    'Judgement'   ], 'result': 'Priestess'   },
    {'source': ['Hierophant', 'Hierophant'  ], 'result': 'Hierophant'  },
    {'source': ['Hierophant', 'Lovers'      ], 'result': 'Strength'    },
    {'source': ['Hierophant', 'Chariot'     ], 'result': 'Star'        },
    {'source': ['Hierophant', 'Justice'     ], 'result': 'Hanged Man'  },
    {'source': ['Hierophant', 'Hermit'      ], 'result': 'Fortune'     },
    {'source': ['Hierophant', 'Fortune'     ], 'result': 'Justice'     },
    {'source': ['Hierophant', 'Strength'    ], 'result': 'Fool'        },
    {'source': ['Hierophant', 'Hanged Man'  ], 'result': 'Sun'         },
    {'source': ['Hierophant', 'Death'       ], 'result': 'Chariot'     },
    {'source': ['Hierophant', 'Temperance'  ], 'result': 'Death'       },
    {'source': ['Hierophant', 'Devil'       ], 'result': 'Hanged Man'  },
    {'source': ['Hierophant', 'Tower'       ], 'result': 'Judgement'   },
    {'source': ['Hierophant', 'Star'        ], 'result': 'Tower'       },
    {'source': ['Hierophant', 'Moon'        ], 'result': 'Priestess'   },
    {'source': ['Hierophant', 'Sun'         ], 'result': 'Lovers'      },
    {'source': ['Hierophant', 'Judgement'   ], 'result': 'Empress'     },
    {'source': ['Lovers',     'Lovers'      ], 'result': 'Lovers'      },
    {'source': ['Lovers',     'Chariot'     ], 'result': 'Temperance'  },
    {'source': ['Lovers',     'Justice'     ], 'result': 'Judgement'   },
    {'source': ['Lovers',     'Hermit'      ], 'result': 'Chariot'     },
    {'source': ['Lovers',     'Fortune'     ], 'result': 'Strength'    },
    {'source': ['Lovers',     'Strength'    ], 'result': 'Death'       },
    {'source': ['Lovers',     'Hanged Man'  ], 'result': 'Sun'         },
    {'source': ['Lovers',     'Death'       ], 'result': 'Temperance'  },
    {'source': ['Lovers',     'Temperance'  ], 'result': 'Strength'    },
    {'source': ['Lovers',     'Devil'       ], 'result': 'Moon'        },
    {'source': ['Lovers',     'Tower'       ], 'result': 'Empress'     },
    {'source': ['Lovers',     'Star'        ], 'result': 'Chariot'     },
    {'source': ['Lovers',     'Moon'        ], 'result': 'Magician'    },
    {'source': ['Lovers',     'Sun'         ], 'result': 'Empress'     },
    {'source': ['Lovers',     'Judgement'   ], 'result': 'Hanged Man'  },
    {'source': ['Chariot',    'Chariot'     ], 'result': 'Chariot'     },
    {'source': ['Chariot',    'Justice'     ], 'result': 'Moon'        },
    {'source': ['Chariot',    'Hermit'      ], 'result': 'Devil'       },
    {'source': ['Chariot',    'Fortune'     ], 'result': 'Priestess'   },
    {'source': ['Chariot',    'Strength'    ], 'result': 'Hermit'      },
    {'source': ['Chariot',    'Hanged Man'  ], 'result': 'Fool'        },
    {'source': ['Chariot',    'Death'       ], 'result': 'Devil'       },
    {'source': ['Chariot',    'Temperance'  ], 'result': 'Strength'    },
    {'source': ['Chariot',    'Devil'       ], 'result': 'Temperance'  },
    {'source': ['Chariot',    'Tower'       ], 'result': 'Fortune'     },
    {'source': ['Chariot',    'Star'        ], 'result': 'Moon'        },
    {'source': ['Chariot',    'Moon'        ], 'result': 'Lovers'      },
    {'source': ['Chariot',    'Sun'         ], 'result': 'Priestess'   },
    {'source': ['Justice',    'Justice'     ], 'result': 'Justice'     },
    {'source': ['Justice',    'Hermit'      ], 'result': 'Magician'    },
    {'source': ['Justice',    'Fortune'     ], 'result': 'Emperor'     },
    {'source': ['Justice',    'Strength'    ], 'result': 'Hierophant'  },
    {'source': ['Justice',    'Hanged Man'  ], 'result': 'Lovers'      },
    {'source': ['Justice',    'Death'       ], 'result': 'Fool'        },
    {'source': ['Justice',    'Temperance'  ], 'result': 'Emperor'     },
    {'source': ['Justice',    'Devil'       ], 'result': 'Fool'        },
    {'source': ['Justice',    'Tower'       ], 'result': 'Sun'         },
    {'source': ['Justice',    'Star'        ], 'result': 'Empress'     },
    {'source': ['Justice',    'Moon'        ], 'result': 'Devil'       },
    {'source': ['Justice',    'Sun'         ], 'result': 'Hanged Man'  },
    {'source': ['Hermit',     'Hermit'      ], 'result': 'Hermit'      },
    {'source': ['Hermit',     'Fortune'     ], 'result': 'Star'        },
    {'source': ['Hermit',     'Strength'    ], 'result': 'Hierophant'  },
    {'source': ['Hermit',     'Hanged Man'  ], 'result': 'Star'        },
    {'source': ['Hermit',     'Death'       ], 'result': 'Strength'    },
    {'source': ['Hermit',     'Temperance'  ], 'result': 'Strength'    },
    {'source': ['Hermit',     'Devil'       ], 'result': 'Priestess'   },
    {'source': ['Hermit',     'Tower'       ], 'result': 'Judgement'   },
    {'source': ['Hermit',     'Star'        ], 'result': 'Strength'    },
    {'source': ['Hermit',     'Moon'        ], 'result': 'Priestess'   },
    {'source': ['Hermit',     'Sun'         ], 'result': 'Devil'       },
    {'source': ['Hermit',     'Judgement'   ], 'result': 'Emperor'     },
    {'source': ['Fortune',    'Fortune'     ], 'result': 'Fortune'     },
    {'source': ['Fortune',    'Strength'    ], 'result': 'Temperance'  },
    {'source': ['Fortune',    'Hanged Man'  ], 'result': 'Emperor'     },
    {'source': ['Fortune',    'Death'       ], 'result': 'Star'        },
    {'source': ['Fortune',    'Temperance'  ], 'result': 'Empress'     },
    {'source': ['Fortune',    'Devil'       ], 'result': 'Hierophant'  },
    {'source': ['Fortune',    'Tower'       ], 'result': 'Hanged Man'  },
    {'source': ['Fortune',    'Star'        ], 'result': 'Devil'       },
    {'source': ['Fortune',    'Moon'        ], 'result': 'Sun'         },
    {'source': ['Fortune',    'Sun'         ], 'result': 'Star'        },
    {'source': ['Fortune',    'Judgement'   ], 'result': 'Tower'       },
    {'source': ['Strength',   'Strength'    ], 'result': 'Strength'    },
    {'source': ['Strength',   'Hanged Man'  ], 'result': 'Temperance'  },
    {'source': ['Strength',   'Death'       ], 'result': 'Hierophant'  },
    {'source': ['Strength',   'Temperance'  ], 'result': 'Chariot'     },
    {'source': ['Strength',   'Devil'       ], 'result': 'Death'       },
    {'source': ['Strength',   'Tower'       ], 'result': 'Chariot'     },
    {'source': ['Strength',   'Star'        ], 'result': 'Moon'        },
    {'source': ['Strength',   'Moon'        ], 'result': 'Magician'    },
    {'source': ['Strength',   'Sun'         ], 'result': 'Moon'        },
    {'source': ['Hanged Man', 'Hanged Man'  ], 'result': 'Hanged Man'  },
    {'source': ['Hanged Man', 'Death'       ], 'result': 'Moon'        },
    {'source': ['Hanged Man', 'Temperance'  ], 'result': 'Death'       },
    {'source': ['Hanged Man', 'Devil'       ], 'result': 'Fortune'     },
    {'source': ['Hanged Man', 'Tower'       ], 'result': 'Hermit'      },
    {'source': ['Hanged Man', 'Star'        ], 'result': 'Justice'     },
    {'source': ['Hanged Man', 'Moon'        ], 'result': 'Strength'    },
    {'source': ['Hanged Man', 'Sun'         ], 'result': 'Hierophant'  },
    {'source': ['Hanged Man', 'Judgement'   ], 'result': 'Star'        },
    {'source': ['Death',      'Death'       ], 'result': 'Death'       },
    {'source': ['Death',      'Temperance'  ], 'result': 'Hanged Man'  },
    {'source': ['Death',      'Devil'       ], 'result': 'Chariot'     },
    {'source': ['Death',      'Tower'       ], 'result': 'Sun'         },
    {'source': ['Death',      'Star'        ], 'result': 'Devil'       },
    {'source': ['Death',      'Moon'        ], 'result': 'Hierophant'  },
    {'source': ['Death',      'Sun'         ], 'result': 'Priestess'   },
    {'source': ['Temperance', 'Temperance'  ], 'result': 'Temperance'  },
    {'source': ['Temperance', 'Devil'       ], 'result': 'Fool'        },
    {'source': ['Temperance', 'Tower'       ], 'result': 'Fortune'     },
    {'source': ['Temperance', 'Star'        ], 'result': 'Sun'         },
    {'source': ['Temperance', 'Moon'        ], 'result': 'Fortune'     },
    {'source': ['Temperance', 'Sun'         ], 'result': 'Magician'    },
    {'source': ['Temperance', 'Judgement'   ], 'result': 'Hermit'      },
    {'source': ['Devil',      'Devil'       ], 'result': 'Devil'       },
    {'source': ['Devil',      'Tower'       ], 'result': 'Magician'    },
    {'source': ['Devil',      'Star'        ], 'result': 'Strength'    },
    {'source': ['Devil',      'Moon'        ], 'result': 'Chariot'     },
    {'source': ['Devil',      'Sun'         ], 'result': 'Hermit'      },
    {'source': ['Devil',      'Judgement'   ], 'result': 'Lovers'      },
    {'source': ['Tower',      'Tower'       ], 'result': 'Tower'       },
    {'source': ['Tower',      'Star'        ], 'result': 'Death'       },
    {'source': ['Tower',      'Moon'        ], 'result': 'Hermit'      },
    {'source': ['Tower',      'Sun'         ], 'result': 'Emperor'     },
    {'source': ['Tower',      'Judgement'   ], 'result': 'Moon'        },
    {'source': ['Star',       'Star'        ], 'result': 'Star'        },
    {'source': ['Star',       'Moon'        ], 'result': 'Temperance'  },
    {'source': ['Star',       'Sun'         ], 'result': 'Judgement'   },
    {'source': ['Star',       'Judgement'   ], 'result': 'Fortune'     },
    {'source': ['Moon',       'Moon'        ], 'result': 'Moon'        },
    {'source': ['Moon',       'Sun'         ], 'result': 'Empress'     },
    {'source': ['Moon',       'Judgement'   ], 'result': 'Fool'        },
    {'source': ['Sun',        'Sun'         ], 'result': 'Sun'         },
    {'source': ['Sun',        'Judgement'   ], 'result': 'Death'       },
    {'source': ['Judgement',  'Judgement'   ], 'result': 'Judgement'   }
];

const specialCombos = [
    {'result': 'Alice', 'sources': ['Nebiros', 'Belial']},
    {'result': 'Ardha', 'sources': ['Parvati', 'Shiva']},
    {'result': 'Asura-Ou', 'sources': ['Zouchouten', 'Jikokuten', 'Koumokuten', 'Bishamonten']},
    {'result': 'Black Frost', 'sources': ['Jack-o\'-Lantern', 'Jack Frost', 'King Frost']},
    {'result': 'Bugs', 'sources': ['Pixie', 'Pisaca', 'Hariti']},
    {'result': 'Chi You', 'sources': ['Hecatoncheires', 'White Rider', 'Thor', 'Yoshitsune', 'Cu Chulainn']},
    {'result': 'Flauros', 'sources': ['Berith', 'Andras', 'Eligor']},
    {'result': 'Kohryu', 'sources': ['Genbu', 'Seiryu', 'Suzaku', 'Byakko']},
    {'result': 'Lucifer', 'sources': ['Anubis', 'Ananta', 'Trumpeter', 'Michael', 'Metatron', 'Satan']},
    {'result': 'Metatron', 'sources': ['Principality', 'Power', 'Dominion', 'Melchizedek', 'Sandalphon', 'Michael']},
    {'result': 'Michael', 'sources': ['Raphael', 'Gabriel', 'Uriel']},
    {'result': 'Neko Shogun', 'sources': ['Kodama', 'Sudama', 'Anzu']},
    {'result': 'Ongyo-Ki', 'sources': ['Kin-Ki', 'Sui-Ki', 'Fuu-Ki']},
    {'result': 'Satanael', 'sources': ['Arséne', 'Anzu', 'Ishtar', 'Satan', 'Lucifer', 'Michael']},
    {'result': 'Seth', 'sources': ['Isis', 'Thoth', 'Anubis', 'Horus']},
    {'result': 'Shiva', 'sources': ['Rangda', 'Barong']},
    {'result': 'Sraosha', 'sources': ['Mitra', 'Mithras', 'Melchizedek', 'Lilith', 'Gabriel']},
    {'result': 'Throne', 'sources': ['Power', 'Melchizedek', 'Dominion']},
    {'result': 'Trumpeter', 'sources': ['White Rider', 'Red Rider', 'Black Rider', 'Pale Rider']},
    {'result': 'Vasuki', 'sources': ['Naga', 'Raja Naga', 'Ananta']},
    {'result': 'Yoshitsune', 'sources': ['Okuninushi', 'Shiki-Ouji', 'Arahabaki', 'Yatagarasu', 'Futsunushi']}
];

const dlcPersona = [["Orpheus", "Orpheus Picaro"], ["Izanagi", "Izanagi Picaro"], ["Thanatos", "Thanatos Picaro"],
    ["Magatsu-Izanagi", "Magatsu-Izanagi Picaro"], ["Kaguya", "Kaguya Picaro"], ["Ariadne", "Ariadne Picaro"],
    ["Asterius", "Asterius Picaro"], ["Tsukiyomi", "Tsukiyomi Picaro"], ["Messiah", "Messiah Picaro"]];
